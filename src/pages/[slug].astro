---
import { render } from 'astro:content'
import { type CollectionEntry } from 'astro:content'
import { getEntry } from 'astro:content'
import SingleLayout from '@/layouts/SingleLayout.astro'

interface Props {
  entry: CollectionEntry<'pages'>
}

const slug = Astro.params.slug
if (!slug) {
  return Astro.redirect('/404')
}

const entry = await getEntry('pages', slug)

if (!entry) {
  return Astro.redirect('/404')
}

const { Content } = await render(entry)
---

<SingleLayout {...entry.data}>
  <Content />
</SingleLayout>
