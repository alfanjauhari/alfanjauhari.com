---
import { render } from 'astro:content'
import { getEntry } from 'astro:content'
import SingleLayout from '@/layouts/SingleLayout.astro'

const slug = Astro.params.slug
if (!slug) {
  return Astro.redirect('/404')
}

const entry = await getEntry('blog', slug)
if (!entry) {
  return Astro.redirect('/404')
}

const { Content } = await render(entry)
---

<SingleLayout {...entry.data}>
  <Content />
</SingleLayout>
